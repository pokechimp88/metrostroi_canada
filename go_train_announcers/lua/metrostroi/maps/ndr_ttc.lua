local Map = game.GetMap() or "" 
if Map:find("gm_metro_ndr_val") then 
Metrostroi.CurrentMap = "gm_metro_ndr_val"
Metrostroi.PlatformMap = "metrostroi"
else 
return 
end

Metrostroi.AddLastStationTex("710", 9999, "models/metrostroi_skins/717_schemes/ttc/nis")
Metrostroi.AddLastStationTex("710", 9999, "models/metrostroi_skins/717_schemes/ttc/out_of_service")
Metrostroi.AddLastStationTex("707", 9999, "models/metrostroi_skins/717_schemes/ttc/nis")
Metrostroi.AddLastStationTex("707", 9999, "models/metrostroi_skins/717_schemes/stm/tableau_noir")
Metrostroi.AddLastStationTex("710", 9999, "models/metrostroi_skins/717_schemes/stm/tableau_noir")
Metrostroi.AddLastStationTex("707", 9999, "models/metrostroi_skins/717_schemes/ttc/out_of_service")
Metrostroi.AddLastStationTex("717", 9999, "models/metrostroi_skins/717_schemes/stm/tableau_noir")
Metrostroi.AddLastStationTex("717", 9999, "models/metrostroi_skins/717_schemes/ttc/nis")
Metrostroi.AddLastStationTex("717", 9999, "models/metrostroi_skins/717_schemes/ttc/out_of_service")
Metrostroi.AddLastStationTex("717", 100, "models/metrostroi_skins/717_schemes/ttc/glencairn")
Metrostroi.AddLastStationTex("717", 102, "models/metrostroi_skins/717_schemes/ttc/st_clair")
Metrostroi.AddLastStationTex("717", 103, "models/metrostroi_skins/717_schemes/ttc/dupont")
Metrostroi.AddLastStationTex("717", 104, "models/metrostroi_skins/717_schemes/ttc/spadina")
Metrostroi.AddLastStationTex("717", 105, "models/metrostroi_skins/717_schemes/ttc/st_george")
Metrostroi.AddLastStationTex("717", 106, "models/metrostroi_skins/717_schemes/ttc/museum")
Metrostroi.AddLastStationTex("717", 108, "models/metrostroi_skins/717_schemes/ttc/st_patrick")
Metrostroi.AddLastStationTex("717", 109, "models/metrostroi_skins/717_schemes/ttc/finch")
Metrostroi.AddLastStationTex("717", 110, "models/metrostroi_skins/717_schemes/ttc/downsview")
Metrostroi.AddLastStationTex("717", 111, "models/metrostroi_skins/717_schemes/ttc/vaughan")
Metrostroi.AddLastStationTex("717", 112, "models/metrostroi_skins/717_schemes/ttc/wilson")
Metrostroi.AddLastStationTex("717", 113, "models/metrostroi_skins/717_schemes/ttc/eginton")
Metrostroi.AddLastStationTex("717", 114, "models/metrostroi_skins/717_schemes/ttc/downtown")
Metrostroi.AddLastStationTex("717", 9999, "models/metrostroi_skins/717_schemes/ttc/special")
Metrostroi.AddLastStationTex("710", 100, "models/metrostroi_skins/717_schemes/ttc/glencairn")
Metrostroi.AddLastStationTex("710", 102, "models/metrostroi_skins/717_schemes/ttc/st_clair")
Metrostroi.AddLastStationTex("710", 103, "models/metrostroi_skins/717_schemes/ttc/dupont")
Metrostroi.AddLastStationTex("710", 104, "models/metrostroi_skins/717_schemes/ttc/spadina")
Metrostroi.AddLastStationTex("710", 105, "models/metrostroi_skins/717_schemes/ttc/st_george")
Metrostroi.AddLastStationTex("710", 106, "models/metrostroi_skins/717_schemes/ttc/museum")
Metrostroi.AddLastStationTex("710", 108, "models/metrostroi_skins/717_schemes/ttc/st_patrick")
Metrostroi.AddLastStationTex("710", 109, "models/metrostroi_skins/717_schemes/ttc/finch")
Metrostroi.AddLastStationTex("710", 110, "models/metrostroi_skins/717_schemes/ttc/downsview")
Metrostroi.AddLastStationTex("710", 111, "models/metrostroi_skins/717_schemes/ttc/vaughan")
Metrostroi.AddLastStationTex("710", 112, "models/metrostroi_skins/717_schemes/ttc/wilson")
Metrostroi.AddLastStationTex("710", 113, "models/metrostroi_skins/717_schemes/ttc/eginton")
Metrostroi.AddLastStationTex("710", 114, "models/metrostroi_skins/717_schemes/ttc/downtown")
Metrostroi.AddLastStationTex("710", 9999, "models/metrostroi_skins/717_schemes/ttc/special")
Metrostroi.AddLastStationTex("707", 100, "models/metrostroi_skins/717_schemes/ttc/glencairn")
Metrostroi.AddLastStationTex("707", 102, "models/metrostroi_skins/717_schemes/ttc/st_clair")
Metrostroi.AddLastStationTex("707", 103, "models/metrostroi_skins/717_schemes/ttc/dupont")
Metrostroi.AddLastStationTex("707", 104, "models/metrostroi_skins/717_schemes/ttc/spadina")
Metrostroi.AddLastStationTex("707", 105, "models/metrostroi_skins/717_schemes/ttc/st_george")
Metrostroi.AddLastStationTex("707", 106, "models/metrostroi_skins/717_schemes/ttc/museum")
Metrostroi.AddLastStationTex("707", 108, "models/metrostroi_skins/717_schemes/ttc/st_patrick")
Metrostroi.AddLastStationTex("707", 109, "models/metrostroi_skins/717_schemes/ttc/finch")
Metrostroi.AddLastStationTex("707", 110, "models/metrostroi_skins/717_schemes/ttc/downsview")
Metrostroi.AddLastStationTex("707", 111, "models/metrostroi_skins/717_schemes/ttc/vaughan")
Metrostroi.AddLastStationTex("707", 112, "models/metrostroi_skins/717_schemes/ttc/wilson")
Metrostroi.AddLastStationTex("707", 113, "models/metrostroi_skins/717_schemes/ttc/eginton")
Metrostroi.AddLastStationTex("707", 114, "models/metrostroi_skins/717_schemes/ttc/downtown")
Metrostroi.AddLastStationTex("707", 9999, "models/metrostroi_skins/717_schemes/ttc/special")

Metrostroi.AddPassSchemeTex("717_new", "TTC",{
	"metrostroi_skins/717_schemes/717_ttc",
})

Metrostroi.AddANSPAnnouncer("TTC Line 1", 
	{
		click_start = {"subway_announcers/en_go_c1/click.mp3", 0.251},
		click_end = {"subway_announcers/en_go_c1/click.mp3", 0.251},
		announcer_ready = {"subway_announcers/fr_stm/announcer_ready.mp3", 2},
		click1 = {"subway_announcers/en_go_c1/click.mp3", 0.251},
		click2 = {"subway_announcers/en_go_c1/click.mp3", 0.251},
		odz = {"subway_announcers/en_ttc/odz.mp3", 8},
		prib = {"subway_announcers/en_ttc/arriving.mp3", 1},
		last = {"subway_announcers/en_ttc/terminal.mp3", 2},
		train_goes_to = {"subway_announcers/en_ttc/train_goes_to.mp3", 4},
		to_vaughan = {"subway_announcers/en_ttc/to_vaughan.mp3", 3},
		to_finch = {"subway_announcers/en_ttc/to_finch.mp3", 3},
		door_open = {"subway_announcers/en_ttc/door_open.mp3", 1.5},
		next_stn = {"subway_announcers/en_ttc/next_stn.mp3", 2},

		dupont = {"subway_announcers/en_ttc/dupont.mp3", 2},
		st_george = {"subway_announcers/en_ttc/st_george.mp3", 2.5},
		museum = {"subway_announcers/en_ttc/museum.mp3", 2},
		queens_park = {"subway_announcers/en_ttc/queens_park.mp3", 2.2},	
		glencairn = {"subway_announcers/en_ttc/glencairn.mp3", 2},
		eglinton_w = {"subway_announcers/en_ttc/eglinton_w.mp3", 2.5},		
		st_patrick = {"subway_announcers/en_ttc/st_patrick.mp3", 2.5},		
		st_clair = {"subway_announcers/en_ttc/st_clair.mp3", 2.5},
		spadina = {"subway_announcers/en_ttc/spadina.mp3", 2},

	},
	{
		{
			LED = {4, 3, 3, 3, 4, 3, 3, 3, 4},
			Name = "Yonge-University Line",
			spec_last = {"announcer_ready"},
			spec_wait = {{"announcer_ready"},{"announcer_ready"}},
			Loop = false,
			{
				100, "Glencairn",
				arrlast = {nil, {"prib","glencairn", "last",1, "door_open","to_vaughan"}, "glencairn"},
				dep = {{"odz","next_stn","eglinton_w"},nil},

			},
			{
				101, "Eglinton West",
                arr = {{"prib","eglinton_w",2, "door_open","to_finch"},{"prib","eglinton_w",2, "door_open","to_vaughan"}},
				dep = {{"odz","next_stn","st_clair"},{"odz","next_stn","glencairn"}},
			},
			{
				102, "St. Clair West",
                arr = {{"prib","st_clair",2, "door_open","to_finch"},{"prib","st_clair",2, "door_open","to_vaughan"}},
				dep = {{"odz","next_stn","dupont"},{"odz","next_stn","eglinton_w"}},
			},
			{
				103, "Dupont",
                arr = {{"prib","dupont",2, "door_open","to_finch"},{"prib","dupont",2, "door_open","to_vaughan"}},
				dep = {{"odz","next_stn","spadina"},{"odz","next_stn","st_clair"}},
				arrlast = {{"prib","dupont","last"},{"prib","dupont","last"}, "dupont"},
			    not_last = {2, "door_open","train_goes_to", "dupont"},
			},
			{
				104, "Spadina",
                arr = {{"prib","spadina",2, "door_open","to_finch"},{"prib","spadina",2, "door_open","to_vaughan"}},
				dep = {{"odz","next_stn","st_george"},{"odz","next_stn","dupont"}},
				arrlast = {{"prib","spadina","last"},{"prib","spadina","last"}, "spadina"},
			    not_last = {2, "door_open","train_goes_to", "spadina"},
               
			},
			{
				105, "St. George",
                arr = {{"prib","st_george",2, "door_open","to_finch"},{"prib","st_george",2, "door_open","to_vaughan"}},
				dep = {{"odz","next_stn","museum"},{"odz","next_stn","spadina"}},
				arrlast = {{"prib","st_george","last"},{"prib","st_george","last"}, "st_george"},
			    not_last = {2, "door_open","train_goes_to", "st_george"},
			},
			{
				106, "Museum",
                arr = {{"prib","museum",2, "door_open","to_finch"},{"prib","museum",2, "door_open","to_vaughan"}},
				dep = {{"odz","next_stn","queens_park"},{"odz","next_stn","st_george"}},
			},
			{
				107, "Queen's Park",
                arr = {{"prib","queens_park",2, "door_open","to_finch"},{"prib","queens_park",2, "door_open","to_vaughan"}},
				dep = {{"odz","next_stn","st_patrick"},{"odz","next_stn","museum"}},
			},
			{
				108, "St. Patrick",
				arrlast = {{"prib","st_patrick","last",1, "door_open","to_finch"}, nil, "st_patrick"},
				dep = {nil, {"odz","next_stn","queens_park"}},
			}
		}
	}
)
Metrostroi.SetRRIAnnouncer( 
	{
		click_start = {"subway_announcers/en_go_c1/click.mp3", 0.251},
		click_end = {"subway_announcers/en_go_c1/click.mp3", 0.251},
		announcer_ready = {"subway_announcers/fr_stm/announcer_ready.mp3", 2},
		click1 = {"subway_announcers/en_go_c1/click.mp3", 0.251},
		click2 = {"subway_announcers/en_go_c1/click.mp3", 0.251},
		odz = {"subway_announcers/en_ttc/odz.mp3", 8},
		prib = {"subway_announcers/en_ttc/arriving.mp3", 1},
		last = {"subway_announcers/en_ttc/terminal.mp3", 2},
		train_goes_to = {"subway_announcers/en_ttc/train_goes_to.mp3", 4},
		to_vaughan = {"subway_announcers/en_ttc/to_vaughan.mp3", 3},
		to_finch = {"subway_announcers/en_ttc/to_finch.mp3", 3},
		door_open = {"subway_announcers/en_ttc/door_open.mp3", 1.5},
		next_stn = {"subway_announcers/en_ttc/next_stn.mp3", 2},

		dupont = {"subway_announcers/en_ttc/dupont.mp3", 2},
		st_george = {"subway_announcers/en_ttc/st_george.mp3", 2},
		museum = {"subway_announcers/en_ttc/museum.mp3", 2},
		queens_park = {"subway_announcers/en_ttc/queens_park.mp3", 2},	
		glencairn = {"subway_announcers/en_ttc/glencairn.mp3", 2},
		eglinton_w = {"subway_announcers/en_ttc/eglinton_w.mp3", 2},		
		st_patrick = {"subway_announcers/en_ttc/st_patrick.mp3", 2},		
		st_clair = {"subway_announcers/en_ttc/st_clair.mp3", 2},
		spadina = {"subway_announcers/en_ttc/spadina.mp3", 2},

	},
	{
		{
			LED = {4, 3, 3, 3, 4, 3, 3, 3, 4},
			Name = "Yonge-University Line",
			spec_last = {"announcer_ready"},
			spec_wait = {{"announcer_ready"},{"announcer_ready"}},
			Loop = false,
			{
				100, "Glencairn",
				arrlast = {nil, {"prib","glencairn", "last",1, "door_open","to_vaughan"}, "glencairn"},
				dep = {{"odz","next_stn","eglinton_w"},nil},

			},
			{
				101, "Eglinton West",
                arr = {{"prib","eglinton_w",2, "door_open","to_finch"},{"prib","eglinton_w",2, "door_open","to_vaughan"}},
				dep = {{"odz","next_stn","st_clair"},{"odz","next_stn","glencairn"}},
			},
			{
				102, "St. Clair West",
                arr = {{"prib","st_clair",2, "door_open","to_finch"},{"prib","st_clair",2, "door_open","to_vaughan"}},
				dep = {{"odz","next_stn","dupont"},{"odz","next_stn","eglinton_w"}},
			},
			{
				103, "Dupont",
                arr = {{"prib","dupont",2, "door_open","to_finch"},{"prib","dupont",2, "door_open","to_vaughan"}},
				dep = {{"odz","next_stn","spadina"},{"odz","next_stn","st_clair"}},
				arrlast = {{"prib","dupont","last"},{"prib","dupont","last"}, "dupont"},
			    not_last = {2, "door_open","train_goes_to", "dupont"},
			},
			{
				104, "Spadina",
                arr = {{"prib","spadina",2, "door_open","to_finch"},{"prib","spadina",2, "door_open","to_vaughan"}},
				dep = {{"odz","next_stn","st_george"},{"odz","next_stn","dupont"}},
				arrlast = {{"prib","spadina","last"},{"prib","spadina","last"}, "spadina"},
			    not_last = {2, "door_open","train_goes_to", "spadina"},
               
			},
			{
				105, "St. George",
                arr = {{"prib","st_george",2, "door_open","to_finch"},{"prib","st_george",2, "door_open","to_vaughan"}},
				dep = {{"odz","next_stn","museum"},{"odz","next_stn","spadina"}},
				arrlast = {{"prib","st_george","last"},{"prib","st_george","last"}, "st_george"},
			    not_last = {2, "door_open","train_goes_to", "st_george"},
			},
			{
				106, "Museum",
                arr = {{"prib","museum",2, "door_open","to_finch"},{"prib","museum",2, "door_open","to_vaughan"}},
				dep = {{"odz","next_stn","queens_park"},{"odz","next_stn","st_george"}},
			},
			{
				107, "Queen's Park",
                arr = {{"prib","queens_park",2, "door_open","to_finch"},{"prib","queens_park",2, "door_open","to_vaughan"}},
				dep = {{"odz","next_stn","st_patrick"},{"odz","next_stn","museum"}},
			},
			{
				108, "St. Patrick",
				arrlast = {{"prib","st_patrick","last",1, "door_open","to_finch"}, nil, "st_patrick"},
				dep = {nil, {"odz","next_stn","queens_park"}},
			}
		}
	}
)